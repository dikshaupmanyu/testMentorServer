<%- include partials/innerheader %>


   
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/emoji.css">
    <script src="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">


    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojionearea/3.4.2/emojionearea.css" integrity="sha512-0Nyh7Nf4sn+T48aTb6VFkhJe0FzzcOlqqZMahy/rhZ8Ii5Q9ZXG/1CbunUuEbfgxqsQfWXjnErKZosDSHVKQhQ==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojionearea/3.4.2/emojionearea.min.css" integrity="sha512-vEia6TQGr3FqC6h55/NdU3QSM5XR6HSl5fW71QTKrgeER98LIMGwymBVM867C1XHIkYD9nMTfWK2A0xcodKHNA==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link src="../public/css/chatWindow.css" rel="stylesheet">
 


    <script>
        window.addEventListener("load", function() {

           // alert("<%= fcmToken %>");

             var fcmToken = "<%= fcmToken %>";
             // alert(fcmToken);

            var userName =  "<%= userName %>";
            // alert(userName);
            
            var LoggedInId = "<%= userid %>";
            // alert(LoggedInId);
            var replyIdss = "<%= uniquereply %>";

// alert(replyIdss);
            
            
            $('#msgreplyId').val(replyIdss);
            $("#user_nickname").val(userName);
            $('#user_id').val(LoggedInId);
            $("#user_fcm_token").val(fcmToken);
            // var today = new Date();
            // // alert(today);
            // var str = today.toDateString().split(' ').slice(1).join(' ') + " at " + 
            // today.toLocaleTimeString() + " GMT+5:30";
            // // alert(str);
            // $('#dateval').val(str);


          firebase.auth().signInWithCustomToken(fcmToken)
            .then((userCredential) => {
              // Signed in
              // console.log(userCredential);
              var user = userCredential.user;
              // var ids = userCredential.uid;
              console.log(user.uid);
              // ...
            })
            .catch((error) => {
              console.log("error is" + error);
              var errorCode = error.code;
              var errorMessage = error.message;
              // ...
            });
    });
    </script>
      <style type="text/css">

      #loading{
        position:fixed;
        width:100%;
        height:100vh;
        background: #fff
        url('https://loading.io/spinner/progress-pie/lg.percent-circular-preloader-gif.gif')
        no-repeat center;
        z-index:99999;
      }
      .chat
      {
          list-style: none;
          margin: 0;
          padding: 0;
          
      }

      .chat li
      {
          margin-bottom: 40px;
          padding-bottom: 5px;

          /* border-bottom: 1px dotted #B3A9A9; */
          /*margin-top: 10px;
          width: 80%;*/
      }


      .chat li .chat-body p
      {
          margin: 0;
           color: #ffff; 
      }


      .chat-care
      {
        overflow: hidden auto;
          height: 350px;
          /*height: 100%;*/
      }
      .chat-care .chat-img
      {
          width: 50px;
          height: 50px;
      }
      .chat-care .img-circle
      {
          border-radius: 50%;
      }
      .chat-care .chat-img
      {
          display: inline-block;
      }
      .chat-care .chat-body
      {
          display: inline-block;
          max-width: 80%;
          background-color: #0f2668eb;
          border-radius: 12.5px;
          padding: 11px;
          padding-right: 20px;
          padding-left: 20px;
      }
      .chat-care .chat-body strong
      {
        color: #ffff;
      }

      .text-muted{
        color: #ffff !important;
      }

      .chat-care .admin
      {
          text-align: right ;
          float: right;
      }
      .chat-care .admin p
      {
          text-align: left ;
      }
      .chat-care .agent
      {
          text-align: left ;
          float: left;
      }
      .chat-care .left
      {
          float: left;
      }
      .chat-care .right
      {
          float: right;
      }

      .clearfix {
        clear: both;
      }

      h1, h2, h3, h4, h5, h6, p {
          color: #000;
      }


      ::-webkit-scrollbar-track
      {
          box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
          -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
          background-color: #F5F5F5;
      }

      ::-webkit-scrollbar
      {
          width: 12px;
          background-color: #F5F5F5;
      }

      ::-webkit-scrollbar-thumb
      {
          box-shadow: inset 0 0 6px rgba(0,0,0,.3);
          -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
          background-color: #555;
      }


      .dashboard_wrapper.mentordashboard1_wrapper.card{
        height: 600px;
        height: calc(100vh - 120px);
      }

      .emojis{
        margin: 0 !important;
        position: absolute !important;
        bottom: 38px;
        right: 40px;
      }
     body .emoji-button{
        margin-left: calc(100% - 85px);
      }
      @media screen and (min-width:1600px) {
        .dashboard_wrapper.mentordashboard1_wrapper.card{
          height: calc(100vh - 180px);
        }
      }
      .input-group>#btn-input.form-control:focus{
        z-index: 1;
      }
      .emojis{
        z-index: 1;
        display: none;
      }
      .emojis[style*='display: block;'] + .emoji-button{
        pointer-events: none !important;
        opacity: .9;
      }



/* change Chat Style */
.chat li{
  position: relative;
}
.chat li .chat-body{
  position: relative;
  margin-top: 22px;
  margin-bottom: 25px;
}
.header.clearfix small.text-muted {
    bottom: -40px;
    position: absolute;
    left: 3px;
    color: #777 !important;
    min-width: 150px;
}
.header.clearfix small.text-muted.left{
  right: 3px;
  left: auto;
}

.header.clearfix strong.primary-font {
    position: absolute;
    top: -23px;
    left: 3px;
    color: #666 !important;
    font-weight: 100;
    font-size: 14px;
    min-width: 110px;
}
.header.clearfix strong.primary-font.right{
  right: 3px;
  left: auto;
}
.chat-care .chat-img .img-circle {
    border-radius: 50%;
    position: absolute;
    bottom: 9px;
    left: .5rem;
    background: #eee;
    object-fit: cover;
}
.chat-care .chat-img.right .img-circle {
    left: auto;
    right: .5rem;
}

.card-header{
  padding: 0.20rem 1.25rem;
}


/* /////////////////////////////////////// */

#fountainG{
  position:relative;
  width:168px;
  height:20px;
  margin:auto;
}

.fountainG{
  position:absolute;
  top:180px;
  background-color:rgb(31,36,135);
  width:20px;
  height:20px;
  animation-name:bounce_fountainG;
    -o-animation-name:bounce_fountainG;
    -ms-animation-name:bounce_fountainG;
    -webkit-animation-name:bounce_fountainG;
    -moz-animation-name:bounce_fountainG;
  animation-duration:1.105s;
    -o-animation-duration:1.105s;
    -ms-animation-duration:1.105s;
    -webkit-animation-duration:1.105s;
    -moz-animation-duration:1.105s;
  animation-iteration-count:infinite;
    -o-animation-iteration-count:infinite;
    -ms-animation-iteration-count:infinite;
    -webkit-animation-iteration-count:infinite;
    -moz-animation-iteration-count:infinite;
  animation-direction:normal;
    -o-animation-direction:normal;
    -ms-animation-direction:normal;
    -webkit-animation-direction:normal;
    -moz-animation-direction:normal;
  transform:scale(.3);
    -o-transform:scale(.3);
    -ms-transform:scale(.3);
    -webkit-transform:scale(.3);
    -moz-transform:scale(.3);
  border-radius:13px;
    -o-border-radius:13px;
    -ms-border-radius:13px;
    -webkit-border-radius:13px;
    -moz-border-radius:13px;
}

#fountainG_1{
  left:0;
  animation-delay:0.446s;
    -o-animation-delay:0.446s;
    -ms-animation-delay:0.446s;
    -webkit-animation-delay:0.446s;
    -moz-animation-delay:0.446s;
}

#fountainG_2{
  left:21px;
  animation-delay:0.5525s;
    -o-animation-delay:0.5525s;
    -ms-animation-delay:0.5525s;
    -webkit-animation-delay:0.5525s;
    -moz-animation-delay:0.5525s;
}

#fountainG_3{
  left:42px;
  animation-delay:0.659s;
    -o-animation-delay:0.659s;
    -ms-animation-delay:0.659s;
    -webkit-animation-delay:0.659s;
    -moz-animation-delay:0.659s;
}

#fountainG_4{
  left:63px;
  animation-delay:0.7755s;
    -o-animation-delay:0.7755s;
    -ms-animation-delay:0.7755s;
    -webkit-animation-delay:0.7755s;
    -moz-animation-delay:0.7755s;
}

#fountainG_5{
  left:84px;
  animation-delay:0.882s;
    -o-animation-delay:0.882s;
    -ms-animation-delay:0.882s;
    -webkit-animation-delay:0.882s;
    -moz-animation-delay:0.882s;
}

#fountainG_6{
  left:105px;
  animation-delay:0.9985s;
    -o-animation-delay:0.9985s;
    -ms-animation-delay:0.9985s;
    -webkit-animation-delay:0.9985s;
    -moz-animation-delay:0.9985s;
}

#fountainG_7{
  left:126px;
  animation-delay:1.105s;
    -o-animation-delay:1.105s;
    -ms-animation-delay:1.105s;
    -webkit-animation-delay:1.105s;
    -moz-animation-delay:1.105s;
}

#fountainG_8{
  left:147px;
  animation-delay:1.2115s;
    -o-animation-delay:1.2115s;
    -ms-animation-delay:1.2115s;
    -webkit-animation-delay:1.2115s;
    -moz-animation-delay:1.2115s;
}



@keyframes bounce_fountainG{
  0%{
  transform:scale(1);
    background-color:rgb(39,41,150);
  }

  100%{
  transform:scale(.3);
    background-color:rgb(255,255,255);
  }
}

@-o-keyframes bounce_fountainG{
  0%{
  -o-transform:scale(1);
    background-color:rgb(39,41,150);
  }

  100%{
  -o-transform:scale(.3);
    background-color:rgb(255,255,255);
  }
}

@-ms-keyframes bounce_fountainG{
  0%{
  -ms-transform:scale(1);
    background-color:rgb(39,41,150);
  }

  100%{
  -ms-transform:scale(.3);
    background-color:rgb(255,255,255);
  }
}

@-webkit-keyframes bounce_fountainG{
  0%{
  -webkit-transform:scale(1);
    background-color:rgb(39,41,150);
  }

  100%{
  -webkit-transform:scale(.3);
    background-color:rgb(255,255,255);
  }
}

@-moz-keyframes bounce_fountainG{
  0%{
  -moz-transform:scale(1);
    background-color:rgb(39,41,150);
  }

  100%{
  -moz-transform:scale(.3);
    background-color:rgb(255,255,255);
  }
}

 
.content {
              position: absolute;
              font-size: 12px;
              width:140px;
/*              height: 110px;
*/              
              height: auto;
              text-align: center;
              display: none;
              background-color:#0f2668eb;
              color:white;
              box-sizing: border-box;
              z-index: 100;
              border-radius:3px;
              margin-left: 15px;
              top:15px;    
   }
  
  .content-2 {
              /* display: flex; */
              position: absolute;
              font-size: 12px;
              width:140px;
           /*   height: 70px;*/
              height: auto;
              text-align: center;
              display: none;
              background:#0f2668eb;
              color:white;
              box-sizing: border-box;
              z-index: 100;
              border-radius:3px;
              margin-left: 15px;
              top:15px;    
   }

   .overlay{
     display:grid;
     justify-items: end;
   }
      
   .overlay-1{
     display:flex;
   }

  .pop{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    border-bottom: 0.5px solid black;
    /*cursor:pointer;*/
  }
  .pop2{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    cursor:pointer;
  }
  .pop:hover{
    background-color:#77839647
  }
  .pop2:hover{
  background-color:#77839647
  }



  .chevron{
    color:black;
    /* display:none; */
    visibility: hidden;
    cursor: pointer;
    z-index: 1000;
    position:absolute;
    right:-0.5px;
    top:4px;
  }

  
  .chat-body:hover .chevron{
    visibility:visible;
  }
  /* .chev_ron{
    display:none;
  } */

  /*  for user  */
  .Content {
              position: absolute;
              font-size: 12px;
              width:140px;
             /* height: 110px;*/
             height: auto;
              text-align: center;
              display: none;
              background-color:#0f2668eb;
              color:white;
              box-sizing: border-box;
              z-index: 100;
              border-radius:3px;
              margin-right: 15px;
              top:15px;    
   }
  
  .Content-2 {
              /* display: flex; */
              position: absolute;
              font-size: 12px;
              width:140px;
             /* height: 70px;*/
             height: auto;
              text-align: center;
              display: none;
              background:#0f2668eb;
              color:white;
              box-sizing: border-box;
              z-index: 100;
              border-radius:3px;
              margin-right: 15px;
              top:15px;    
   }

   .Overlay{
     display:grid;
     justify-items: start;
   }
      
   .Overlay-1{
     display:flex;
     flex-direction: row-reverse;
   }

  .Pop{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    border-bottom: 0.5px solid black;
    cursor:pointer;
  }
  .Pop2{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    cursor:pointer;
  }
  .Pop:hover{
    background-color:#77839647
  }
  .Pop2:hover{
  background-color:#77839647
  }


  .chat-body:hover .Chevron{
      visibility:visible;
  }

  .Chevron{
    color:white;
    visibility: hidden;
    cursor: pointer;
    position:absolute;
    left: -0.5px;
    top:4px;
  }



  .right.text-muted a{
    color:#0f2668eb;
  }
  .left.text-muted a{
    color:#0f2668eb;
  }
  
  .header-flag{
   padding-top:1rem;
   padding-bottom :1rem;
   border-bottom:2px solid grey;
    text-align:center;
    font-size:23px;
  }

  .reasonFlag{
              display:contents;
              position: absolute;
              font-size: 20px;
              text-align: center;
              box-sizing: border-box; 
   }

   .flag{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    border-bottom: 0.1px solid black;
    cursor:pointer;
    color:red;
    
  }
   .flag1{
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    cursor:pointer;
  }

  .successmsg{
    font-size:20px;
    text-align:center;
  }

  .btn-primary_1{
    width:5.4%;
    /* height:32px; */
    aspect-ratio: 0.999 / 0.75;
    display:flex;
    background-color: #007bff;
    border-color: #007bff;
    color:white
  }

  .btn-primary_1:hover{
    background-color: #2e93ff;
  }
  .fa-paperclip:before {
    font-size: 23px;
    color: white;
  }

  .form-control{
    width:82%;
  }

  .msg-body h5{
    font-size:18px ;
    color:#0f2668eb;
  }

  .msg-detail{
    color:black;
    font-size:15px
  }

  .modal-footer{
    padding:0.3rem;
    display:flex;
    align-items:center;
    justify-content:space-between;
    flex-direction:row;
    flex-wrap: wrap;
  }
  .modal-header{
    padding:0.5rem;
  }

  #modal-content-1{
    height:32rem;
  }

  .modal-close{
    cursor: pointer;
  }

  .modal-body{
    display: flex;
    flex-direction: column-reverse;
  }

  .fg-emoji-container{
    width:250px;
    height:300px;
    top:215px;
    left:750px;
  }

  .modal-title{
    line-height: 2.5;
  }
.close{
  line-height: 1.9;
}

/*  */

/* .card-mid-hearder{
  margin:4px;
  border-bottom: .5px solid rgb(226, 226, 226);
} */

.social-post{
  font-size: 12px;
  color:#777;
  position: relative;
  top:-21px;
  right:20px;
  text-align-last: end;
  margin-right: 10px;
  /* left:1015px; */
}

#chevron-down{
  position: relative;
  left:97%;
  bottom:45px;
  cursor: pointer;
}


#chevron-up{
  position: relative;
  left:95.4%;
  bottom:45px;
  cursor: pointer;
  visibility: hidden;
  /* display: none; */
}

.room{
 display: flex;
 justify-content:flex-start;
 flex-direction:row-reverse;
 align-items: center;
 position: relative;
 bottom: 30px;
 right:20px;
 /* cursor: pointer; */
 font-size:bold;
}

#roomslist{
  /* position: fixed !important; */
    left: auto !important;
    top: 32px !important;
    transform: none !important;
    right: 26px;
    /* height: 26%; */
    color:#fff;
    /* overflow: auto; */
}
#roomslist ul li{
  font-family: SF UI Display Light;
  transition: all .2s ease-in-out;
  font-size: 15px;
  padding:6px 4px;
  cursor: pointer;
}

.heading{
  text-align-last: right;
  position: relative;
  bottom:20px;
  right:90px;
  font-size: 14px;
}
/*.marquee{
  position: absolute;
}*/

/* #collapseExample{
  position: relative;
  bottom:40px;
  border-bottom: .5px solid rgb(211, 208, 208);
  display:flex ;
} */

.card-low-hearder{
  position: initial;
  bottom:40.5px;
  border-top: .5px solid rgb(211, 208, 208);
}


/* 
  .modal-content{
    top:40px;
    right:100px;
    width: 650px;
    height: 500px;
  }

  .modal-header{
    padding:7.5px;
    padding-top:20px;
  }

  .modal-footer{
    padding: 6px;
  }
  .form-control{
    width:78%;
  }

  .fg-emoji-container{
    width:250px;
    height:300px;
    top:215px;
    left:650px;
  } */
  /* #exampleModalLongTitle{
    display: flex;
    justify-content: center;
  }
  .modal-title{
    display: flex;
    justify-content: center;
  }
  .attachment{
    color:black
  } */
  

      </style>
<!--       <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
 -->
      <div class="app_main">
                  
       <%- include partials/innersidebar %>
<!-- 
       <style type="text/css">
         #chatbox-history {
  overflow: none;
  position: relative;
  width: 100%;
  height: 200px;
  border: 1px solid #ccc;
}
#messages {
  overflow: auto;
  position: absolute;
  bottom: 0;
  width: 100%;
  max-height: 200px;
}
#messages div {
  border: 1px solid #e2e4e3;
  margin: 5px;
  padding: 10px;
  background: #fafafa;
}
       </style> -->

       <div class="app_content">
          <div class="dsbrd_container">


          <div class="dashboard_wrapper mentordashboard1_wrapper card" style="background: #ffff;">
                <div class="card-header text-center" style="border-bottom:1px solid">
                    <span><b id="room-button-3">Soical Chat Room</b> </span>
                </div>
                <div class="room">
                  <span>
                    <a class="rooms" role="button" id="dropdownUser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Rooms <svg   xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                    <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                    </svg></a> 

                    <div class="dropdown-menu" aria-labelledby="dropdownUser" id="roomslist">
                      <ul>
                        <li><a>Social Chat Room</a></li>
                        <li><a href="http://localhost:8080/chatWindow">Strategy Chat Room</a></li>
                        <li><a href="http://localhost:8080/chatWindowAdminUser">basilnsage Room</a></li>
                      </ul>
                    </div>  

                  </span>
                </div>

                <div class="card-mid-head" style="height:10px">

                  <div class="heading">
                    <b>Most Social Media Mentions Right Now.</b>
                  </div>

                  <div class="panel-heading">
                    <a  data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample"> 
                      <svg onclick="DownChevron()" id="chevron-down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                      </svg>
                    </a>
                    <a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                      <svg onclick="UpChevron()" id="chevron-up"   xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-up" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
                      </svg>
                    </a>
                  </div>

                </div>

                <div id="collapseExample">
                  <div class="colla">
                   <!--  <a style="cursor:pointer;"> Refresh it <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABmUlEQVRIie3Wz05TQRTH8Q9rt7RqKE1qxPAibkyMQlADJsSlbgzhFXwKY/yzIUgDKBsTX0XZQRqlUdZUoS5m6i2lem+nF1b8krOZOTPfe+bOOXO41AVpYgTfOuZxG7O4Gsdb2MUn7GCvrI+r4x066OZYB68wPS50AYd9m65hETdwJdrNOLbe93GHuJsKvY7juNGWEHmeGtiMa07wNAU8gRdYTli7EsG/cT8FPo5Whch/oHLR8J0If5Pn+CBaWaoLF+7If6Ku4CBamUfTu2wr/3JoyvKxWSJ4UZYZZ/TQ2WJQ1pHPxP2+Dk5M4vsQcFtWFlPUf4KDtpHn8HEM8CS+Ddmzjeqg826cnBkD2K97Q8BDf+F2nHxUEpiCl3Y1zyFBhdK0Kkv4WonwQoXprRD1dongQqrip5xqc16aE560EzxPWP9EeFJHaa3+6lkEd4V62yiwpiHkfldoIq6lgAntS+/YO0J7s4RbTrc+j/Eev2Rv8EIqtKcaXirW7B3htQIZMco/qAmV6I4Q5VQcb+ELPuMD9kfY81Lnrz8ZRo+Yt/Ln7AAAAABJRU5ErkJggg=="/>
                    </a> -->
                     <marquee class="marquee">
                      <div class="row" id="Marquee">
                      </div>
                     
                    </marquee>
                  
                  </div>  
                </div>
                <div class="card-low-hearder">
                  <span><b  style="position:relative; left:10px; font-size:14px">Live Stocks Chat</b> </span>
                  <p class="social-post">Aggregated Social Posts</p>
                </div>
              
                
                <!-- <div class="card-mid-hearder" > -->
                  <!-- <b style="position:relative; left:10px; bottom:20px;">Most Social Media Mentions Right Now.
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      <svg onclick="DownChevron()" id="chevron-down" style="position:relative; left:850px; bottom:10px;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                        </svg>
                        <svg onclick="UpChevron()" id="chevron-up" style="position:relative; left:830px; bottom:10px; visibility:hidden"   xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-up" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
                        </svg>
                    </a>
                      
                  </b>
                  <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                    <marquee class="marquee" id="Marquee">This is basic example of marquee</marquee>
                  </div> -->
                <!-- </div> -->
                <!-- <div class="card-low-hearder" style="padding-top:10px;   border-top: 1px solid rgb(201, 200, 200)">
                  <span><b  style="position:relative; left:10px; margin:5px;">Live Stocks Chat</b> </span>
                   <p class="social-post">Aggregated Social Posts</p>
                </div> -->

<!--     <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="chatbox-history">
  <div id="messages">
    <div>asdjf ;asd</div>
    <div>ajsd fa ;skd f;s</div>
    <div>asdjf ;akjs d;lf a;lksd fj</div>
    <div>ajsd fkaj s;dlf a;ljsdl;fkja;lsd f; asd</div>
    <div>Wassup?</div>
  </div>
</div>
    <script type="text/javascript">
        $('#messages').scrollTop($('#messages')[0].scrollHeight);
    </script> -->
   
                  <div id="fountainG">
                    <div id="fountainG_1" class="fountainG"></div>
                    <div id="fountainG_2" class="fountainG"></div>
                    <div id="fountainG_3" class="fountainG"></div>
                    <div id="fountainG_4" class="fountainG"></div>
                    <div id="fountainG_5" class="fountainG"></div>
                    <div id="fountainG_6" class="fountainG"></div>
                    <div id="fountainG_7" class="fountainG"></div>
                    <div id="fountainG_8" class="fountainG"></div>
                  </div>
                <div class="card-body chat-care">
                
                    <ul class="chat" id="tasks">
                    </ul>
                </div>
                <div class="card-footer" style="padding: 0px;">
                   <form onsubmit=" return handleCreate(event)">
                    
                      <div class="input-group">
                        <input type="hidden" id="msgreplyId">
                        <input type="hidden" id="user_id">
                        <input type="hidden" id="user_nickname">
                        <input type="hidden" id="user_fcm_token">
                       <!--  <input type="hidden" id="dateval"> -->
                        <span class="input-group-btn">
                             <input type="file" id="imageUploaddata" style="display: none;">
                             <!-- <span class="name">No file selected</span> -->
                                <i class="fa fa-paperclip attachment btn btn-primary" aria-hidden="true" style="height: 38px; display:table-cell"></i>
                          
                        </span>
                        <input id="btn-input" type="text" class="form-control input-lg" placeholder="Type your message here..."   autocomplete="off"/>
                        <span class="input-group-btn">
                            <button class="btn btn-primary" type="submit" id="Btn_1">
                                <i class="fa fa-paper-plane" aria-hidden="true"></i>
                            </button>
                        </span>
                     
                      </div>
                   </form>
                  <!-- <div class="container">
                    <div><a href="replyMsg?messageId=${taskId}" target="_blank" style="color: black;">  ${countReply} Reply </a> </div> 
                    <a onClick='copyClipboard(this.id)' id='${taskId}'><div style="cursor:pointer;">Copy</div></a>
                    <a onClick='flagData(this.id)' id='${taskId}'><div style="cursor:pointer;">Flag</div></a>
                  </div> -->
                </div>

                <!-- ///////////// -->
              <!--   <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Chat Reply</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      
                      <div class="modal-footer">
                        <input id="btn-input" type="text" class="form-control input-lg" placeholder="Type your message here..." />
                        <span class="input-group-btn">
                            <button class="btn btn-primary" type="submit">
                                <i class="fa fa-paper-plane" aria-hidden="true"></i>
                            </button>
                        </span>
                      </div>
                    </div>
                  </div>
                </div> -->
                <!-- ////// -->
                
          </div>

        </div>

      </div>

  </div>

 </div>
 </div>


<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
 -->
 
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<!--     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
 -->

<script>
  

// $(".card-body").animate({ scrollTop: $(document).height() }, "fast");

// $(document).ready(function() {
//     $('.card-body').animate({
//         scrollTop: $('.card-body').get(0).scrollHeight
//     }, 1000);
// });
</script>

<script  src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>

<script  src="https://www.gstatic.com/firebasejs/8.2.2/firebase-auth.js"></script>
<script  src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>

<script  src="https://www.gstatic.com/firebasejs/8.2.2/firebase-database.js"></script>
<script  src="https://www.gstatic.com/firebasejs/7.14.3/firebase-analytics.js"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase.js"></script>


    <script src="js/mainSoical.js"></script>

      <script type="text/javascript" src="js/custom.js"></script>


<!--     <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
 -->
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    

  <script src='js/inputEmoji.js'></script>
  <script>
    
    
    $("#tasksuserlisttotal").on("click", function () {
      $("body").addClass("open__sidebar");
    });
    $(".app_header").on("click", function () {
      $("body").removeClass("open__sidebar");
    });
 
    $(function () {
      $('#btn-input').emoji({place: 'after'});

      $('.emoji-button').on("click", function(e){
        if($('.emojis').is(":visible")){
            // alert('click');
             e.preventDefault();

        }
      })

      $('emojis').on("hide", function() {
          //alert('hide');
       })
       $('emojis').on("show", function() {
          //alert('show');
       })

    })


//     window.addEventListener('DOMContentLoaded', () => {
//   const button = document.querySelector('#emoji-button');
//   const picker = new EmojiButton();
//   picker.on('emoji', emoji => {
//     document.querySelector('input').value += emoji;
//   });
//   button.addEventListener('click', () => {
//     alert("hiii");
//     picker.pickerVisible ? picker.hidePicker() : picker.showPicker(button);
//   });
// });

    
  </script>
<br>
<script>
      var preloader = document.getElementById("fountainG");

      window.addEventListener("load", function(){
        preloader.style.display ="none"
      })
    </script>


<script src="js/vanillaEmojipicker.js"></script>
<script>

 window.addEventListener("load", function() {

 
   var LoggedInUsername = "<%= userName %>";
   var LoggedInEmail = "<%= email %>";
   var LoggedInId = "<%= userid %>";
   var tokens = "<%= tokens %>";
   // alert(LoggedInId);

$(document).ready(function(){  

  function getNumberWithOrdinal(n) {
  var s = ["th", "st", "nd", "rd"],
      v = n % 100;
  return n + (s[(v - 20) % 10] || s[v] || s[0]);
}

   var notificationVals = "" ;

    $.ajax({
        type: 'POST',
        url: 'https://apistest.tradetipsapp.com/api/socialChatStockDetails/getAllSocialChatStockDetailsList',
        headers: {
          Authorization: 'Bearer '+ tokens,
           },
         data: {userName : LoggedInUsername},
      success: function(data) {

       var datak = JSON.stringify(data);
       var dataResult = JSON.parse(datak);

       // alert(dataResult);

        if(dataResult.length > 0){
          var n =0;
           for(i = 0; i < dataResult.length; i ++){
            n++;
        notificationVals += '<div class="col" style="border-right: 1px solid grey"><h6>'+dataResult[i].stockSymbol+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'+ getNumberWithOrdinal(n) +'</span></h6></div>'; 
  
       }    
          // window.location.reload();

          $("#Marquee").append(notificationVals);
         }
         else{
            // alert("li is creating")
          // const notificationVal = document.createElement('li');
          //   console.log(notificationVal);
          // notificationVal.innerHTML = "<img src='/images/noreply-1.png' style='margin:0 auto; display:flex; margin-bottom:20px;  width:25.5%'><h3 class='text-center'><b>No New Notification</b></h3><br><p class='text-center'>Check this section for all updates and general announcements.</p>";
         
          // $("#notifyList").append(notificationVal);
         
          // $('#notifylist').show();    
        }

         

    
     
     }

   });

  });

});

$(document).keypress(function (e) {
  
  if (e.which == 13) {
   e.preventDefault();
   $('#Btn_1').click();
  //  alert('Click button was trigger');
  }
 });
</script>

<script>
  function DownChevron() {


      document.getElementById("chevron-down").style.visibility = "hidden";
      document.getElementById("chevron-up").style.visibility = "visible";

  }

  function UpChevron(){
    // document.getElementById("Marquee").style.visibility = "visible";
    document.getElementById("chevron-up").style.visibility = "hidden";
    document.getElementById("chevron-down").style.visibility = "visible";
  }




  </script>


</body>
</html>

<!-- <div><a href="replyMsg?messageId=${taskId}" target="_blank" style="color: black;">  ${countReply} Reply </a> </div> 
              <a onClick='copyClipboard(this.id)' id='${taskId}'><div style="cursor:pointer;">Copy</div></a>
              <a onClick='flagData(this.id)' id='${taskId}'><div style="cursor:pointer;">Flag</div></a> -->